---
import Base from '../../layouts/BaseLayout.astro';
import CalculatorsGrid from '../../components/CalculatorsGrid.astro';
import AdSlot from '../../components/AdSlot.astro';
import Faq from '../../components/FaqSchema.astro';
import Breadcrumbs from '../../components/Breadcrumbs.astro';

const faqs = [
  { question: 'Como o contador funciona?', answer: 'Contamos palavras por grupos de caracteres não-brancos e caracteres por comprimento do texto. É tudo local no seu navegador.' },
  { question: 'O contador inclui espaços?', answer: 'A contagem de caracteres inclui espaços; a de palavras ignora múltiplos espaços e quebras de linha.' },
  { question: 'Há limite de tamanho?', answer: 'Funciona bem para textos longos. Navegadores modernos suportam colagem de milhares de caracteres.' },
  { question: 'Meus dados são enviados ao servidor?', answer: 'Não. O cálculo roda 100% no seu navegador, sem envio de dados.' },
  { question: 'Posso usar para redes sociais?', answer: 'Sim. É útil para limites de bio, legendas e metadescrições.' },
];

---

<Base title="Contador de palavras e caracteres" description="Conte palavras e caracteres do seu texto online.">
  <!-- CSS já importado no layout -->
  <h1 class="text-2xl font-semibold mb-4">Contador de palavras e caracteres</h1>

  <div class="form-wrap">
    <textarea
      id="txt"
      rows="8"
      class="input border rounded p-3 w-full"
      placeholder="Cole seu texto aqui...">
    </textarea>

    <div id="saida" class="result">
      0 palavras — 0 caracteres
    </div>
  </div>

  <AdSlot slotId="6940589775" />

  <section class="prose dark:prose-invert mt-6">
    <h2>Dica</h2>
    <p>Útil para redações, redes sociais e metadescrições.</p>
  </section>

  <script is:inline>
    const txtEl = document.getElementById('txt');
    const saidaEl = document.getElementById('saida');

    function count(t) {
      const chars = t.length;
      const words = (t.trim().match(/\S+/g) || []).length;
      saidaEl.textContent = `${words} palavras — ${chars} caracteres`;
    }

    txtEl.addEventListener('input', (e) => count(e.target.value));
  </script>

  <section class="prose dark:prose-invert mt-6">
    <h2>Conte palavras e caracteres com precisão</h2>
    <p>Este contador ajuda a ajustar textos a requisitos de tamanho, como redações, legendas e metadescrições. O cálculo é instantâneo e feito no seu navegador.</p>

    <h3>Exemplo prático</h3>
    <p>Cole um parágrafo qualquer e veja as contagens mudarem em tempo real à medida que edita.</p>

    <h3>Privacidade</h3>
    <p>Não armazenamos o conteúdo digitado. Tudo acontece localmente, sem envio para servidores.</p>
  </section>

  <Faq faqs={faqs} />

  <CalculatorsGrid current={Astro.url.pathname} />
  <AdSlot slotId="6940589775" />
</Base>
